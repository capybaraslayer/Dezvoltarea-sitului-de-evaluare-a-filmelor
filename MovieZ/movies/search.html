<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Filme cu Search și Filtrare Gen</title>
<link rel="stylesheet" href="../style/genres.css" />
</head>
<body>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">🎬 MovieZ</div>
      <ul class="nav-links">
        <li><a href="../index/index.html">Acasă</a></li>
        <li><a href="top10.html" class="active">Top 10 Filme</a></li>
        <li><a href="../movies/genre.html">Genuri</a></li>
        <li><a href="../auth/login.html">Autentificare</a></li>
      </ul>
    </nav>
  </header>

<h1>Catalog Filme</h1>

<input
  type="text"
  id="searchInput"
  placeholder="Caută filme după titlu..."
  autocomplete="off"
/>

<select id="genreFilter">
  <option value="toate">Toate genurile</option>
  <option value="thriller">Thriller</option>
  <option value="horror">Horror</option>
  <option value="comedie">Comedie</option>
  <option value="drama">Dramă</option>
  <option value="sci-fi">Sci-Fi</option>
</select>
<div class="search-container">
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Caută un film..." />
    <span class="icon">🔍</span>
  </div>

  <h3>CĂUTARE AVANSATĂ</h3>

  <div class="filters">
    <select id="genreFilter">
      <option value="">Gen</option>
      <option value="thriller">Thriller</option>
      <option value="horror">Horror</option>
      <option value="actiune">Acțiune</option>
      <option value="comedie">Comedie</option>
      <option value="drama">Dramă</option>
    </select>

    <select id="ratingFilter">
      <option value="">Rating</option>
      <option value="5">5 stele</option>
      <option value="4">4+ stele</option>
      <option value="3">3+ stele</option>
      <option value="2">2+ stele</option>
    </select>
  </div>

  <div class="actions">
    <button class="reset" onclick="resetFilters()">RESETARE</button>
    <button class="search-button" onclick="filterMovies()">CĂUTARE</button>
  </div>

  <div class="result-count" id="resultCount">30 rezultate</div>
</div>

<div id="movieResults">
  <section class="movie-genre" id="Thriller">
    <h2>Thriller</h2>
    <div class="movie-container">
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71JTbqJ9bnL._AC_SY679_.jpg" alt="Gone Girl">
        <h3>Gone Girl</h3>
        <p>O poveste captivantă despre dispariția unei femei și misterele care ies la iveală.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81yV-J7IqVL._AC_SY679_.jpg" alt="Se7en">
        <h3>Se7en</h3>
        <p>Doi detectivi urmăresc un criminal în serie care folosește cele șapte păcate capitale.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71jzXhUrHtL._AC_SY679_.jpg" alt="Prisoners">
        <h3>Prisoners</h3>
        <p>Un tată disperat încearcă să găsească fiica răpită cu ajutorul unui detectiv.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81FBDtdwWmL._AC_SY679_.jpg" alt="Shutter Island">
        <h3>Shutter Island</h3>
        <p>Un detectiv investighează dispariția unei paciente dintr-un spital de boli mentale.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81PqJ5oyntL._AC_SY679_.jpg" alt="The Girl with the Dragon Tattoo">
        <h3>The Girl with the Dragon Tattoo</h3>
        <p>Un jurnalist și o hacker investighează o dispariție misterioasă dintr-o familie bogată.</p>
      </div>
    </div>
  </section>

  <!-- Horror -->
  <section class="movie-genre" id="horror">
    <h2>Horror</h2>
    <div class="movie-container">
      <!-- 5 filme horror -->
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71fE-6EcVPL._AC_SY679_.jpg" alt="The Conjuring">
        <h3>The Conjuring</h3>
        <p>O familie confruntată cu fenomene paranormale în casa lor bântuită.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81v+TQpCdxL._AC_SY679_.jpg" alt="Hereditary">
        <h3>Hereditary</h3>
        <p>O familie descoperă secrete întunecate după moartea unei rude apropiate.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71Z0r3hhpmL._AC_SY679_.jpg" alt="It">
        <h3>It</h3>
        <p>Copiii dintr-un orășel sunt terorizați de o entitate malefică în formă de clovn.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81FUqF2MzKL._AC_SY679_.jpg" alt="A Quiet Place">
        <h3>A Quiet Place</h3>
        <p>O familie trebuie să trăiască în tăcere pentru a supraviețui creaturilor care reacționează la sunet.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71zTmbzv4xL._AC_SY679_.jpg" alt="The Babadook">
        <h3>The Babadook</h3>
        <p>O mamă și fiul ei sunt urmăriți de o prezență malefică dintr-o carte de povești.</p>
      </div>
    </div>
  </section>

  <!-- Comedie -->
  <section class="movie-genre" id="comedy">
    <h2>Comedie</h2>
    <div class="movie-container">
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81GbV2mVjSL._AC_SY679_.jpg" alt="Superbad">
        <h3>Superbad</h3>
        <p>Doi adolescenți încearcă să se distreze și să facă o impresie bună înainte de liceu.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71XJJf+iBoL._AC_SY679_.jpg" alt="The Hangover">
        <h3>The Hangover</h3>
        <p>Prieteni încearcă să-și amintească ce s-a întâmplat după o petrecere nebună în Las Vegas.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81WltTJ3F+L._AC_SY679_.jpg" alt="Step Brothers">
        <h3>Step Brothers</h3>
        <p>Doi bărbați maturi devin frați vitregi și se confruntă cu o relație comică.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71+Q7IzRwxL._AC_SY679_.jpg" alt="Bridesmaids">
        <h3>Bridesmaids</h3>
        <p>O competiție amuzantă între prietenele miresei pentru atenția acesteia.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71yd79lfEuL._AC_SY679_.jpg" alt="Anchorman">
        <h3>Anchorman</h3>
        <p>Viața haotică și comică a unui prezentator de știri din anii '70.</p>
      </div>
    </div>
  </section>

  <!-- Drama -->
  <section class="movie-genre" id="drama">
    <h2>Dramă</h2>
    <div class="movie-container">
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71e9VspMVEL._AC_SY679_.jpg" alt="The Shawshank Redemption">
        <h3>The Shawshank Redemption</h3>
        <p>Povestea unui bărbat condamnat pe nedrept și prietenia lui în închisoare.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81T-8q0HfOL._AC_SY679_.jpg" alt="Forrest Gump">
        <h3>Forrest Gump</h3>
        <p>Viața extraordinară a unui bărbat simplu cu un suflet pur.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71dPkh0vE0L._AC_SY679_.jpg" alt="Fight Club">
        <h3>Fight Club</h3>
        <p>Un bărbat se alătură unui club de lupte clandestin care îi schimbă viața.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81t1xErM7nL._AC_SY679_.jpg" alt="The Green Mile">
        <h3>The Green Mile</h3>
        <p>Povestea unui gardian și a unui prizonier cu puteri supranaturale.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81mP2aGjBJL._AC_SY679_.jpg" alt="The Pursuit of Happyness">
        <h3>The Pursuit of Happyness</h3>
        <p>Un tată luptă pentru un viitor mai bun alături de fiul său.</p>
      </div>
    </div>
  </section>

  <!-- Sci-Fi -->
  <section class="movie-genre" id="sci-fi">
    <h2>Sci-Fi</h2>
    <div class="movie-container">
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/71X3eNk6X-L._AC_SY679_.jpg" alt="Inception">
        <h3>Inception</h3>
        <p>Un hoț intră în vise pentru a fura sau planta idei.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81p+xe8cbnL._AC_SY679_.jpg" alt="The Matrix">
        <h3>The Matrix</h3>
        <p>Un hacker descoperă o realitate simulată controlată de roboți.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81eZB8z-KgL._AC_SY679_.jpg" alt="Interstellar">
        <h3>Interstellar</h3>
        <p>O echipă de astronauți caută o planetă locuibilă pentru omenire.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81Kc8aAohEL._AC_SY679_.jpg" alt="Arrival">
        <h3>Arrival</h3>
        <p>O lingvistă încearcă să comunice cu extratereștri misterioși.</p>
      </div>
      <div class="movie-card">
        <img src="https://m.media-amazon.com/images/I/81dFQOtv2nL._AC_SY679_.jpg" alt="Blade Runner 2049">
        <h3>Blade Runner 2049</h3>
        <p>Un nou blade runner descoperă un secret care amenință omenirea.</p>
      </div>
    </div>

  </section>

</div>
<script>
function resetFilters() {
  document.getElementById("searchInput").value = "";
  document.getElementById("genreFilter").value = "";
  document.getElementById("ratingFilter").value = "";
  filterMovies(); // resetează rezultatele
}

function filterMovies() {
  const search = document.getElementById("searchInput").value.toLowerCase();
  const genre = document.getElementById("genreFilter").value;
  const rating = parseInt(document.getElementById("ratingFilter").value);

  const cards = document.querySelectorAll(".movie-card");
  let count = 0;

  cards.forEach(card => {
    const title = card.getAttribute("data-title").toLowerCase();
    const cardGenre = card.getAttribute("data-genre");
    const cardRating = parseInt(card.getAttribute("data-rating"));

    const matchTitle = title.includes(search);
    const matchGenre = genre === "" || cardGenre === genre;
    const matchRating = isNaN(rating) || cardRating >= rating;

    if (matchTitle && matchGenre && matchRating) {
      card.style.display = "block";
      count++;
    } else {
      card.style.display = "none";
    }
  });

  document.getElementById("resultCount").textContent = `${count} rezultate`;
}
</script>

<script>
function filterMovies() {
  const searchTerm = document.getElementById('searchInput').value.toLowerCase();
  const selectedGenre = document.getElementById('genreFilter').value;

  const genres = document.querySelectorAll('.movie-genre');

  genres.forEach(genreSection => {
    const genreMatches = selectedGenre === 'toate' || genreSection.id === selectedGenre;

    let anyMovieVisible = false;
    const movies = genreSection.querySelectorAll('.movie-card');

    movies.forEach(movie => {
      const title = movie.querySelector('h3').textContent.toLowerCase();
      const matchesSearch = title.includes(searchTerm);

      const showMovie = genreMatches && matchesSearch;

      movie.style.display = showMovie ? 'flex' : 'none';

      if (showMovie) anyMovieVisible = true;
    });

    genreSection.style.display = anyMovieVisible ? 'block' : 'none';
  });
}

document.getElementById('searchInput').addEventListener('input', filterMovies);
document.getElementById('genreFilter').addEventListener('change', filterMovies);
</script>

</body>
</html>
